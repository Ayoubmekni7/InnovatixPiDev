{% extends 'base.html.twig'  %}
{% block title %} Recrutement {% endblock %}
{% block nompage %} Recrutement {% endblock %}

{% block body %}


    <div class="content-body">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <!-- Lien pour ajouter un nouveau crédit -->

            </div>


            <!-- row -->

            <div class="row">

                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">Liste des offres</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive " >

                                <table class="table table-responsive-md">
                                    <thead>
                                    <tr >

                                        <th><strong>ID_offre</strong></th>
                                        <th><strong>Title</strong></th>
                                        <th><strong>domaine</strong></th>
                                        <th><strong>typeOffre</strong></th>
                                        <th><strong>postePropose</strong></th>
                                        <th><strong>experience</strong></th>
                                        <th><strong>niveau</strong></th>
                                        <th><strong>language</strong></th>
                                        <th><strong>description</strong></th>
                                        <th><strong>exigenceOffre</strong></th>
                                        <th><strong>datePostu</strong></th>
                                        <th><strong>motsCles</strong></th>
                                        <th><strong>pfeBook</strong></th>
                                        <th><strong>Action</strong></th>

                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                        {% for a in offres %}
                                                <td>{{a.id }}</td>
                                                <td>{{ a.title }}</td>
                                                <td>{{ a.domaine }}</td>
                                                <td>{{ a.typeOffre }}</td>
                                                <td>{{ a.postePropose }}</td>
                                                <td>{{ a.experience }}</td>
                                                <td>{{ a.niveau }}</td>
                                                <td>{{ a.language }}</td>
                                                <td style=" font-size: 15px;
                                                            display: -webkit-box;
                                                            -webkit-line-clamp: 2;
                                                            -webkit-box-orient: vertical;
                                                            overflow: hidden;
                                                            line-height: 1.5;" colspan="5">{{ a.description }}</td>
                                                <td style="font-size: 15px;
                                                            display: -webkit-box;
                                                            -webkit-line-clamp: 2;
                                                            -webkit-box-orient: vertical;
                                                            overflow: hidden;
                                                            line-height: 1.5;">{{ a.exigenceOffre }}</td>
                                                <td>{{ a.datePostu | date('d F Y') }}</td>
                                                <td>{% for item in a.motsCles %}
                                                    {{ item ~ ','  }}
                                                {% endfor %}
                                                </td>
                                                {% if (a.pfeBook ) %}
                                                <td>
                                                <a href="{{ asset('upload/CV/' ~ a.pfeBook) }}" target="_blank"><button>Ouvrir PDF</button></a>
                                                <a href="{{ asset('upload/CV/' ~ a.pfeBook) }}" download="{{ a.pfeBook ~ '.pdf' }}"><button class="btn btn-bd-download d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3">Télécharger</button></a></td>
                                                {% endif %}

                                                <td>
                                                    <div class="d-flex">
                                                        <a href="{{ path('modifierDemande', {'id':a.id}) }}"> <button class="btn btn-success shadow btn-xs sharp me-1">Approuver</button></a>
                                                        <a href="{{ path('deleteDemande', {'id':a.id}) }}"><button class="btn btn-danger shadow btn-xs sharp">Rejeter</button></a>
                                                    </div>
                                                </td>

                                        {% endfor %}
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>




{% endblock %}